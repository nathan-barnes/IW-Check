require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("merge");(b.exports=function(a){this.top=a.top,this.left=a.left,this.width=a.width,this.spacing=a.spacing,this.targetRowHeight=a.targetRowHeight,this.targetRowHeightTolerance=a.targetRowHeightTolerance,this.minAspectRatio=this.width/a.targetRowHeight*(1-a.targetRowHeightTolerance),this.maxAspectRatio=this.width/a.targetRowHeight*(1+a.targetRowHeightTolerance),this.edgeCaseMinRowHeight=a.edgeCaseMinRowHeight||Number.NEGATIVE_INFINITY,this.edgeCaseMaxRowHeight=a.edgeCaseMaxRowHeight||Number.POSITIVE_INFINITY,this.rightToLeft=a.rightToLeft,this.isBreakoutRow=a.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(b){var h,i,j,c=this.items.concat(b),e=this.width-(c.length-1)*this.spacing,f=c.reduce(function(a,b){return a+b.aspectRatio},0),g=e/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&b.aspectRatio>=1?(this.items.push(b),this.completeLayout(e/b.aspectRatio),!0):!(0===f||(f<this.minAspectRatio?(this.items.push(d(b)),0):f>this.maxAspectRatio?0===this.items.length?(this.items.push(d(b)),this.completeLayout(e/f),0):(h=this.width-(this.items.length-1)*this.spacing,i=this.items.reduce(function(a,b){return a+b.aspectRatio},0),j=h/this.targetRowHeight,Math.abs(f-g)>Math.abs(i-j)?(this.completeLayout(h/i),1):(this.items.push(d(b)),this.completeLayout(e/f),0)):(this.items.push(d(b)),this.completeLayout(e/f),0)))},isLayoutComplete:function(){return this.height>0},completeLayout:function(b,c){var f,g,h,i,j,k,d=this.rightToLeft?-this.left:this.left,e=this.width-(this.items.length-1)*this.spacing,l=this;void 0===c&&(c=!0),g=Math.round(b),h=Math.max(this.edgeCaseMinRowHeight,Math.min(g,this.edgeCaseMaxRowHeight)),g!==h?(this.height=h,f=e/h/(e/g)):(this.height=g,f=1),this.items.forEach(function(a,b){a.top=l.top,a.width=Math.round(a.aspectRatio*l.height*f),a.height=l.height,l.rightToLeft?a.left=l.width-d-a.width:a.left=d,d+=a.width+l.spacing}),c&&(this.rightToLeft||(d-=this.spacing+this.left),i=(d-this.width)/this.items.length,j=this.items.map(function(a,b){return Math.round((b+1)*i)}),1===this.items.length?(k=this.items[0],k.width-=Math.round(i),this.rightToLeft&&(k.left+=Math.round(i))):this.items.forEach(function(a,b){b>0?(a.left-=j[b-1],a.width-=j[b]-j[b-1]):a.width-=j[b]}))},forceComplete:function(b,c){var d=this.width-(this.items.length-1)*this.spacing,e=this.items.reduce(function(a,b){return a+b.aspectRatio},0);"number"==typeof c?this.completeLayout(c,!1):b?this.completeLayout(d/e):this.completeLayout(this.targetRowHeight,!1)},getItems:function(){return this.items}}},{merge:2}],2:[function(a,b,c){!function(a){function e(a,b){if("object"!==g(a))return b;for(var c in b)"object"===g(a[c])&&"object"===g(b[c])?a[c]=e(a[c],b[c]):a[c]=b[c];return a}function f(a,b,d){var f=d[0],h=d.length;(a||"object"!==g(f))&&(f={});for(var i=0;i<h;++i){var j=d[i];if("object"===g(j))for(var l in j){var m=a?c.clone(j[l]):j[l];f[l]=b?e(f[l],m):m}}return f}function g(a){return{}.toString.call(a).slice(8,-1).toLowerCase()}var c=function(a){return f(!0===a,!1,arguments)};c.recursive=function(a){return f(!0===a,!0,arguments)},c.clone=function(a){var e,f,b=a,d=g(a);if("array"===d)for(b=[],f=a.length,e=0;e<f;++e)b[e]=c.clone(a[e]);else if("object"===d){b={};for(e in a)b[e]=c.clone(a[e])}return b},a?b.exports=c:window.merge=c}("object"==typeof b&&b&&"object"==typeof b.exports&&b.exports)},{}],"justified-layout":[function(a,b,c){"use strict";function i(a){var b,d,e,h,c=[];return f.forceAspectRatio&&a.forEach(function(a){a.forcedAspectRatio=!0,a.aspectRatio=f.forceAspectRatio}),a.some(function(a,h){if(b=!1,e||(e=j()),d=e.addItem(a),e.isLayoutComplete()){if(c=c.concat(k(e)),g._rows.length>=f.maxNumRows)return e=null,!0;if(e=j(),!d)if(d=e.addItem(a),e.isLayoutComplete()){if(c=c.concat(k(e)),g._rows.length>=f.maxNumRows)return e=null,!0;e=j()}else d||(b=!0)}else d||(b=!0)}),e&&e.getItems().length&&f.showWidows&&(g._rows.length?(h=g._rows[g._rows.length-1].isBreakoutRow?g._rows[g._rows.length-1].targetRowHeight:g._rows[g._rows.length-1].height,e.forceComplete(!1,h||f.targetRowHeight)):e.forceComplete(!1),c=c.concat(k(e))),g._containerHeight=g._containerHeight-f.boxSpacing.vertical,g._containerHeight=g._containerHeight+f.containerPadding.bottom,{containerHeight:g._containerHeight,boxes:g._layoutItems}}function j(){if(!1!==f.fullWidthBreakoutRowCadence&&(g._rows.length+1)%f.fullWidthBreakoutRowCadence==0)var a=!0;return new e({top:g._containerHeight,left:f.containerPadding.left,width:f.containerWidth-f.containerPadding.left-f.containerPadding.right,spacing:f.boxSpacing.horizontal,targetRowHeight:f.targetRowHeight,targetRowHeightTolerance:f.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*f.targetRowHeight,edgeCaseMaxRowHeight:2*f.targetRowHeight,rightToLeft:!1,isBreakoutRow:a})}function k(a){return g._rows.push(a),g._layoutItems=g._layoutItems.concat(a.getItems()),g._containerHeight+=a.height+f.boxSpacing.vertical,a.items}var d=a("merge"),e=a("./row"),f={},g={};b.exports=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c={containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1};f=d(c,b);var e={},h={};return e.top=isNaN(parseFloat(f.containerPadding.top))?f.containerPadding:f.containerPadding.top,e.right=isNaN(parseFloat(f.containerPadding.right))?f.containerPadding:f.containerPadding.right,e.bottom=isNaN(parseFloat(f.containerPadding.bottom))?f.containerPadding:f.containerPadding.bottom,e.left=isNaN(parseFloat(f.containerPadding.left))?f.containerPadding:f.containerPadding.left,h.horizontal=isNaN(parseFloat(f.boxSpacing.horizontal))?f.boxSpacing:f.boxSpacing.horizontal,h.vertical=isNaN(parseFloat(f.boxSpacing.vertical))?f.boxSpacing:f.boxSpacing.vertical,f.containerPadding=e,f.boxSpacing=h,g._layoutItems=[],g._awakeItems=[],g._inViewportItems=[],g._leadingOrphans=[],g._trailingOrphans=[],g._containerHeight=f.containerPadding.top,g._rows=[],g._orphans=[],i(a.map(function(a){return a.width&&a.width?{aspectRatio:a.width/a.height}:{aspectRatio:a}}))}},{"./row":1,merge:2}]},{},[]);var Tessarray=function(a,b,c){this.container=document.querySelector(a),this.eventListeners={},this.allFilters=[],this.allSorts={},this._setOptions(c),this._styleContainer(),this._defineTransitions(),this.options.containerTransition&&(this.container.style.transition=this.containerTransition),this._setContainerPadding(),this._setEventListeners(),this._bindAndPrepareFilteringAndSorting(),this._createBoxes(b),this._changeSortValuesToNumbersIfPossible(),this._setContainerState()};Tessarray.prototype._setOptions=function(a){this.options=a||{},this._setOptionValue("selectorClass",!1),this._setOptionValue("defaultFilter",!1),this._setOptionValue("defaultSort",!1),this._setOptionValue("resize",!0),this._setOptionValue("containerTransition",{duration:300,timingFunction:"ease-in",delay:0}),this._setOptionValue("boxTransition",{duration:500,timingFunction:"ease-in",delay:0}),this._setOptionValue("boxTransformOutTransition",{duration:250,timingFunction:"ease-in",delay:0}),this._setOptionValue("containerLoadedClass","container-is-loaded"),this._setOptionValue("boxLoadedClass","is-loaded"),this._setOptionValue("onContainerLoad",!1),this._setOptionValue("onBoxLoad",!1),this._setOptionValue("onRender",!1),this._setOptionValue("flickr",{})},Tessarray.prototype._setOptionValue=function(a,b){void 0===this.options[a]&&(this.options[a]=b)},Tessarray.prototype._styleContainer=function(){this.container.style.position="relative",this.container.style.opacity="0",this.container.offsetTop,this.specifiedContainerWidth=!!this.options.flickr.containerWidth,this._setContainerWidth()},Tessarray.prototype._setContainerWidth=function(){this.specifiedContainerWidth||(this.options.flickr.containerWidth=this.container.clientWidth)},Tessarray.prototype._defineTransitions=function(){"object"==typeof this.options.containerTransition?this.containerTransition="opacity "+this.options.containerTransition.duration+"ms "+this.options.containerTransition.timingFunction+" "+this.options.containerTransition.delay+"ms":"string"==typeof this.options.containerTransition?this.containerTransition=this.options.containerTransition:this.containerTransition=!1,"object"==typeof this.options.boxTransition?this.boxTransition="transform "+this.options.boxTransition.duration+"ms "+this.options.boxTransition.timingFunction+" "+this.options.boxTransition.delay+"ms, height "+this.options.boxTransition.duration+"ms "+this.options.boxTransition.timingFunction+" "+this.options.boxTransition.delay+"ms, width "+this.options.boxTransition.duration+"ms "+this.options.boxTransition.timingFunction+" "+this.options.boxTransition.delay+"ms":"string"==typeof this.options.boxTransition?this.boxTransition=this.options.boxTransition:this.boxTransition=!1,"object"==typeof this.options.boxTransformOutTransition?this.boxTransformOutTransition="transform "+this.options.boxTransformOutTransition.duration+"ms "+this.options.boxTransformOutTransition.timingFunction+" "+this.options.boxTransformOutTransition.delay+"ms":"string"==typeof this.options.boxTransformOutTransition?this.boxTransformOutTransition=this.options.boxTransformOutTransition:this.boxTransformOutTransition=!1},Tessarray.prototype._setContainerPadding=function(){this.options.flickr.containerPadding?"number"==typeof this.options.flickr.containerPadding?this.containerPaddingBottom=this.options.flickr.containerPadding:this.options.flickr.containerPadding.bottom?this.containerPaddingBottom=this.options.flickr.containerPadding.bottom:this.containerPaddingBottom=0:this.containerPaddingBottom=10},Tessarray.prototype._setEventListeners=function(){if(this.eventListeners.container=function(a){a.target===this.container&&(this._addTransitionToAllBoxNodes(),this.container.removeEventListener("transitionend",this.eventListeners.container))}.bind(this),!1!==this.options.containerTransition&&("object"!=typeof this.options.containerTransition||0!==this.options.containerTransition.duration))try{this.container.addEventListener("transitionend",this.eventListeners.container)}catch(a){console.error('Cannot find container with selectorString "'+containerSelector+'"')}this.options.resize&&(this.eventListeners.window=this.renderOnResize.bind(this),window.addEventListener("resize",this.eventListeners.window))},Tessarray.prototype._bindAndPrepareFilteringAndSorting=function(){if(this.options.selectorClass){this.selectors=document.getElementsByClassName(this.options.selectorClass);for(var a=0;a<this.selectors.length;a++){var b=this.selectors[a].getAttribute("data-filter"),c=this.selectors[a].getAttribute("data-sort");null!==b&&null!==c?this.eventListeners[a]=this.filterAndSort.bind(this,b,c):null!==b?this.eventListeners[a]=this.filter.bind(this,b):null!==c&&(this.eventListeners[a]=this.sort.bind(this,c)),this.eventListeners[a]&&this.selectors[a].addEventListener("click",this.eventListeners[a]),b&&this.allFilters.push(b),c&&(this.allSorts[c]=!0)}}},Tessarray.prototype._changeSortValuesToNumbersIfPossible=function(){if(this.options.selectorClass)for(var a in this.allSorts)this.allSorts[a]&&this._changeSortValuesToNumbers(a)},Tessarray.prototype._changeSortValuesToNumbers=function(a){""!==a&&this.boxObjects.forEach(function(b){!1!==b.sortData[a]&&(b.sortData[a]=+b.sortData[a].replace(/,/g,""))})},Tessarray.prototype._setContainerState=function(){this.containerIsReady=!0,this.boxesAreReady()&&this.initialRender()},Tessarray.prototype.boxesAreReady=function(){if(!this.boxesHaveBeenCreated)return!1;for(var a=0;a<this.boxesAspectRatioStates.length;a++)if(!this.boxesAspectRatioStates[a])return!1;return!0},Tessarray.prototype._createBoxes=function(a){var b=this.container.querySelectorAll(a);this.boxNodes=[],this.boxObjects=[],this.boxesAspectRatioStates=[];for(var c=0,d=0;d<b.length;d++){var e=new TessarrayBox(b[d],d,this);e.invalid?c+=1:(this.boxObjects[d-c]=e,this.boxNodes[d-c]=b[d],this.boxNodes[d-c].style.position="absolute")}this.boxesHaveBeenCreated=!0};var TessarrayBox=function(a,b,c){this.index=b,this.boxNode=a,this.tessarray=c,this.filters=[],this.sortData={},this.tessarray.boxesAspectRatioStates[b]=!1,this.tessarray.options.selectorClass&&(this._setFilters(),this._setSortData()),this._loadImagesAndSetAspectRatios()};TessarrayBox.prototype._setFilters=function(){this.tessarray.allFilters.forEach(function(a){this.boxNode.classList.contains(a)&&this.filters.push(a)}.bind(this))},TessarrayBox.prototype._setSortData=function(){for(var a in this.tessarray.allSorts){var b=this._setSortValue(a);b?this.tessarray.allSorts[a]&&(this._isValidNumber(b)||(this.tessarray.allSorts[a]=!1)):b=!1,this.sortData[a]=b}},TessarrayBox.prototype._setSortValue=function(a){return"data-"===a.slice(0,5)?sortValue=this.boxNode.dataset[this._camelCase(a.slice(5))]:this.boxNode.getElementsByClassName(a)[0]?sortValue=this.boxNode.getElementsByClassName(a)[0].innerHTML.toLowerCase().trim():sortValue=!1,sortValue},TessarrayBox.prototype._camelCase=function(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})},TessarrayBox.prototype._isValidNumber=function(a){return!(+a.replace(/,/g,"")!=+a.replace(/,/g,""))},TessarrayBox.prototype._loadImagesAndSetAspectRatios=function(){if(this.boxNode.querySelector("img")?this.image=this.boxNode.querySelector("img"):"IMG"===this.boxNode.tagName&&(this.image=this.boxNode),this.boxNode.getAttribute("data-aspect-ratio")||this.boxNode.getAttribute("data-height")&&this.boxNode.getAttribute("data-width"))this.setAspectRatio(this.tessarray,this.index);else if(this.image&&this.image.getAttribute("src")){var a=this.image.getAttribute("src"),b=new Image,c=this;b.onload=function(){c.aspectRatio=this.width/this.height,c.tessarray.boxIsReady(c.index),c.boxNode.classList.add(c.tessarray.options.boxLoadedClass),"function"==typeof c.tessarray.options.onBoxLoad&&c.tessarray.options.onBoxLoad(c)},b.src=a}else this.invalid=!0,this.tessarray.boxIsReady(index),console.error("One of your images does not exist.")},TessarrayBox.prototype.setAspectRatio=function(a,b){if(this.boxNode.getAttribute("data-aspect-ratio")?this.aspectRatio=parseFloat(this.boxNode.getAttribute("data-aspect-ratio")):this.boxNode.getAttribute("data-height")&&this.boxNode.getAttribute("data-width")&&(this.aspectRatio=parseFloat(this.boxNode.getAttribute("data-width"))/parseFloat(this.boxNode.getAttribute("data-height"))),a.boxIsReady(b),this.image){var c=this.image.getAttribute("src"),d=new Image,e=this;d.onload=function(){e.boxNode.classList.add(a.options.boxLoadedClass),"function"==typeof a.options.onBoxLoad&&a.options.onBoxLoad(e)},d.src=c}else this.boxNode.classList.add(a.options.boxLoadedClass),"function"==typeof a.options.onBoxLoad&&a.options.onBoxLoad(this)},Tessarray.prototype.boxIsReady=function(a){this.boxesAspectRatioStates[a]=!0,this.boxesAreReady()&&this.containerIsReady&&this.initialRender()},Tessarray.prototype.renderOnResize=function(){this.specifiedContainerWidth||this.options.flickr.containerWidth===this.container.clientWidth||this.debounce(this.render.bind(this),100)()},Tessarray.prototype.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},Tessarray.prototype.initialRender=function(){this.container.style.opacity="1",this.container.classList.add(this.options.containerLoadedClass),"function"==typeof this.options.onContainerLoad&&this.options.onContainerLoad(this),this.options.selectorClass&&this.options.defaultFilter&&this.options.defaultSort?this.filterAndSort(this.options.defaultFilter,this.options.defaultSort,!0):(this.selectedBoxes=this.boxObjects.slice(),this.render(!0))},Tessarray.prototype.filterAndSort=function(a,b,c){(c||a!==this.activeFilter&&!1!==a||b!==this.activeSort&&!1!==b)&&(a===this.activeFilter||!1===a||(""===a?(this.activeFilter=a,this.selectedBoxes=this.boxObjects.slice()):(this.activeFilter=a,this.selectedBoxes=this.boxObjects.filter(function(b){return b.filters.indexOf(a)>=0}))),b===this.activeSort||!1===b||(""===b?(this.activeSort=b,this.selectedBoxes=this.selectedBoxes.sort(function(a,b){return a.index-b.index})):(this.activeSort=b,this.selectedBoxes=this.selectedBoxes.sort(function(a,c){return!1===a.sortData[b]?1:!1===c.sortData[b]?-1:a.sortData[b]<c.sortData[b]?-1:a.sortData[b]>c.sortData[b]?1:0}))),!0===c?this.render(!0):this.render())},Tessarray.prototype.filter=function(a){this.filterAndSort(a,!1)},Tessarray.prototype.sort=function(a){this.filterAndSort(!1,a)},Tessarray.prototype._scale=function(a,b){this.boxTransformOutTransition&&(a.style.transition=this.boxTransformOutTransition);var c=a.style.transform;a.style.transform=""!==c?c.replace(/(scale\()(\d)(\))/,"$1"+b.toString()+"$3"):"translate(0px, 0px) scale("+b.toString()+")"},Tessarray.prototype._addTransitionToAllBoxNodes=function(){if(this.boxTransition)for(var a=0;a<this.boxNodes.length;a++)this.boxNodes[a].style.transition=this.boxTransition},Tessarray.prototype.render=function(a){if(this._setContainerWidth(),this.layoutGeometry=require("justified-layout")(this.selectedBoxes.map(function(a){return a.aspectRatio}),this.options.flickr),this.layoutGeometry.boxes.length>0){var b=this.layoutGeometry.boxes[this.layoutGeometry.boxes.length-1].top+this.layoutGeometry.boxes[this.layoutGeometry.boxes.length-1].height+this.containerPaddingBottom;this.container.style.height=b.toString()+"px"}else this.container.style.height="0px";a||this._addTransitionToAllBoxNodes();for(var c=0;c<this.boxObjects.length;c++){var d=this.selectedBoxes.indexOf(this.boxObjects[c]);if(d>=0){var e=this.layoutGeometry.boxes[d];void 0!==e?(this.boxNodes[c].style.transform="translate("+e.left+"px, "+e.top+"px) scale(1)",this.boxNodes[c].style.height=e.height+"px",this.boxNodes[c].style.width=e.width+"px"):this._scale(this.boxNodes[c],0)}else this._scale(this.boxNodes[c],0)}a?"function"==typeof this.options.onRender&&this.options.onRender(this,!0):"function"==typeof this.options.onRender&&this.options.onRender(this,!1),this.container.offsetTop},Tessarray.prototype.destroy=function(){this.eventListeners.window&&window.removeEventListener("resize",this.eventListeners.window),this.eventListeners.container&&this.container.removeEventListener("transitionend",this.eventListeners.container),this.options.containerTransition&&(this.container.style.transition=""),this.boxNodes.forEach(function(a){a.style.transition=""}),this.selectors&&this.selectors.forEach(function(a){a.removeEventListener("click",this.eventListeners[j])}),delete this.boxObjects};